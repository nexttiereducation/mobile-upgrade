<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Create an account</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content class="bg-blue external-page">
  <ion-grid>
    <ion-row class="ion-align-items-center ion-justify-content-start">
      <ion-col class="ion-margin-bottom ion-padding-bottom ion-text-center">
        <img class="nte-logo"
             src="assets/image/logo/circle.svg">
        <div class="blue-divider"></div>
        <div class="text-white bold external-header">Connect with your students!</div>
        <div class="text-white body spaced"> Let us know your students' email addresses,<br> so we can connect you to
          them </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <form [formGroup]="studentsForm">
    <ion-list class="ion-no-padding"
              formArrayName="students"
              no-lines>
      <ion-item class="bg-white10 border-white50"
                *ngFor="let student of students; let i = index"
                [class.border-white-bold]="student['controls'].email.valid"
                [formGroupName]="i">
        <ion-label [color]="student['controls'].email.value ? 'white' : 'white50'">
          <ion-icon class="form-icon"
                    name="mail"></ion-icon>
        </ion-label>
        <ion-input formControlName="email"
                   placeholder="Student's email address"
                   type="email">
        </ion-input>
      </ion-item>
    </ion-list>
  </form>
  <div class="ion-text-right">
    <ion-button color="light"
                fill="clear"
                slot="end"
                (click)="addStudent()"
                [disabled]="!students[students.length - 1].get('email').value.length ||
                        studentsForm.invalid"
                [hidden]="studentsForm.pristine"> Add Another </ion-button>
    <!--   [disabled]="!students[students.length - 1].controls.email.value.length ||
                        studentsForm.invalid" -->
  </div>
</ion-content>
<ion-footer class="no-border ion-padding-10">
  <ion-button color="light"
              expand="full"
              size="large"
              (click)="next()"
              [disabled]="studentsForm.invalid"> Next </ion-button>
</ion-footer>
